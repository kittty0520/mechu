<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <label><input type="checkbox" value="korea" id="korea" name="checking_food" >한식</label>    
    <label><input type="checkbox" value="china" id="china" name="checking_food" >중식</label>
    <label><input type="checkbox" value="america" id="ws" name="checking_food" >양식</label>
    <button type="button" onclick="next();">다음단계</button>
    <label><input type="checkbox" value="쌀" name="ingredient">쌀</label>
    <label><input type="checkbox" value="채소" name="ingredient">채소</label>
    <label><input type="checkbox" value="밀가루" name="ingredient">밀가루</label>
    <label><input type="checkbox" value="해산물" name="ingredient">해산물</label>
    <label><input type="checkbox" value="육류" name="ingredient">육류</label>
    <button type="button" onclick="next2();">다음단계</button>
    <label><input type="checkbox" value="튀김" name="cooking">튀김</label>
    <label><input type="checkbox" value="구이" name="cooking">구이</label>
    <label><input type="checkbox" value="볶음" name="cooking">볶음</label>
    <label><input type="checkbox" value="찜" name="cooking">찜</label>
    <label><input type="checkbox" value="기타" name="cooking">기타</label>
    <button type="button" onclick="next3();">다음단계</button>
    <label><input type="radio" value="맵기" name="spicy">맵기</label>
    <label><input type="radio" value="안맵기" name="spicy">안맵</label>
    <button type="button" onclick="next4();">결과</button>
    <script>
    
        let korea=[
                    {country : 'korea', name:'비빔밥', ingredient:'쌀', quality:'',cooking:'기타', spicy:'맵기' },
                    {country : 'korea', name:'비빔밥', ingredient:'채소', quality:'',cooking:'기타', spicy:'맵기' },
                    {country : 'korea',name:'김치찌개', ingredient:'육류', quality:'',cooking:'찜' , spicy:'맵기'},
                    {country : 'korea',name:'김치찌개', ingredient:'채소', quality:'',cooking:'찜', spicy:'맵기' },
                    {country : 'korea',name:'된장찌개', ingredient:'해산물', quality:'',cooking:'찜', spicy:'맵기' },
                    {country : 'korea',name:'된장찌개', ingredient:'채소', quality:'',cooking:'구이', spicy:'맵기' },
                    {country : 'korea',name:'동태찌개', ingredient:'해산물', quality:'',cooking:'구이', spicy:'안맵기' },
                    {country : 'korea',name:'동태찌개', ingredient:'채소', quality:'',cooking:'볶음' , spicy:'안맵기' },
                    {country : 'korea',name:'순대국', ingredient:'육류', quality:'',cooking:'볶음', spicy:'안맵기'  },
                    {country : 'korea',name:'뼈해장국', ingredient:'육류', quality:'',cooking:'기타', spicy:'안맵기'  },
                    {country : 'korea',name:'청국장', ingredient:'채소', quality:'',cooking:'볶음' , spicy:'안맵기' },
                    {country : 'korea',name:'부대찌개', ingredient:'육류', quality:'',cooking:'기타', spicy:'안맵기'  }
                ] 
        let china=[
            {country:'china', name:'마파두부', ingredient:'육류', quality:'',cooking:'볶음' , spicy:'맵기'},
            {country:'china',name:'탕수육', ingredient:'육류', quality:'',cooking:'튀김', spicy:'맵기' },
            {country:'china',name:'자장면', ingredient:'밀가루', quality:'',cooking:'기타' , spicy:'맵기'},
            {country:'china',name:'우육면', ingredient:'밀가루', quality:'',cooking:'기타' , spicy:'맵기'},
            {country:'china',name:'쇠고기국수스프', ingredient:'밀가루', quality:'',cooking:'기타' , spicy:'맵기'},
            {country:'china',name:'양장피', ingredient:'채소', quality:'',cooking:'볶음' , spicy:'안맵기' },
            {country:'china',name:'쉬이 현 랍스터', ingredient:'해산물', quality:'',cooking:'구이', spicy:'안맵기'  },
            {country:'china',name:'생선스프', ingredient:'해산물', quality:'',cooking:'기타', spicy:'안맵기'  },
            {country:'china',name:'양주볶음밥', ingredient:'쌀', quality:'',cooking:'볶음', spicy:'안맵기'  },
            {country:'china',name:'깐풍기', ingredient:'해산물', quality:'',cooking:'튀김', spicy:'안맵기'  }
        ]
        let america =[
            {country:'america',name:'수제햄버거', ingredient:'밀가루', quality:'',cooking:'구이', spicy:'맵기'},
            {country:'america',name:'스테이크', ingredient:'밀가루', quality:'',cooking:'구이', spicy:'맵기' },
            {country:'america',name:'파스타', ingredient:'밀가루', quality:'',cooking:'찜' , spicy:'맵기'},
            {country:'america',name:'립', ingredient:'밀가루', quality:'',cooking:'튀김', spicy:'안맵기'  },
            {country:'america',name:'필라프', ingredient:'밀가루', quality:'',cooking:'볶음', spicy:'맵기' },
            {country:'america',name:'리조또', ingredient:'밀가루', quality:'',cooking:'기타', spicy:'안맵기'  },
            {country:'america',name:'피자', ingredient:'밀가루', quality:'',cooking:'볶음', spicy:'안맵기'  }
        ]
        let country_food=[...korea, ...china, ...america];
        
        // const countries=document.getElementsByClassName("checklist");
        let country_data=[];
    function next(){
        let checking_c=document.getElementsByName('checking_food');
        // let country_data=[];

        for(let j=0; j<checking_c.length; j++){
            if(checking_c[j].checked){
                    for(let w=0; w<country_food.length; w++){

                        if(checking_c[j].value===country_food[w].country){
                        country_data.push(country_food[w]);
                        console.log(country_data);
                    
                    }
                } 
                }
                
            }
        }
        let chk_ingredient=[];
        function next2(){
            let ingre=document.getElementsByName('ingredient');
            for(let g=0; g<ingre.length; g++){
            if(ingre[g].checked){
                console.log(ingre[g].checked)
                for(let j=0; j<country_data.length; j++){
                    if(ingre[g].value===country_data[j].ingredient){
                        chk_ingredient.push(country_data[j]);
                        console.log(chk_ingredient);
                    }
                }
            }
            
        }}
        let chk_cooking=[];
        function next3(){
            let cook=document.getElementsByName('cooking');
            for(let i=0; i<cook.length; i++){
                if(cook[i].checked){
                    console.log(cook[i].checked)
                    for(let j=0; j<chk_ingredient.length; j++){
                        if(cook[i].value===chk_ingredient[j].cooking){
                            chk_cooking.push(chk_ingredient[j]);
                            console.log(chk_cooking);
                        }
                    }
                }
            }
        }
        let result=[];
        function next4(){
            let spicy=document.getElementsByName('spicy');
            for(let i=0; i<spicy.length; i++){
                if(spicy[i].checked){
                    console.log(spicy[i].checked)
                    for(let j=0; j<chk_cooking.length; j++){
                        if(spicy[i].value===chk_cooking[j].spicy){
                            result.push(chk_cooking[j]);
                            console.log(result);
                        }
                    }
                }
            }
        }
    </script>
</body>
</html>